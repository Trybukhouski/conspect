# ARCHITECTURE

## Terms
- [[Prototype]] - скрытое свойство, имеющееся в каждом объекте, и ссылающееся на свой объект-прототип или на null (если прототипа нет).
- `__Proto__`  - геттер/сеттер для [[Prototype]], который позволяет им управлять.
- `Object.getPrototypeOf/setPrototypeOf`
- `prototype` - это свойство функции с ссылкой на прототип создаваемого им объекта. Имеется в каждой функции.

## Rules
- __Inheritance chain__
  - В JS наследование реализуется через цепочку прототипов: у каждого объекта есть один (строго!) объект-прототип.
- __Read only__
  - В объекте-прототипе объект может: 
    - читать свойства (унаследованные свойства).
    - использовать методы.
  - В объекте-прототипе объект НЕ может:
    - производить запись/удаление (исключение - свойства-аксессоры).
- __`this` is here__
  - Контекст вызова метода из прототипа - всегда текущий объект.

## Prototypes ierarchy
- Объекты-прототипы имеют иерархию наследования:
  - Первый уровень - объект Object
  - Второй уровень - встроенные объекты-наследники от Object: Array, Function, Number и др. 
  - Третий уровень - объекты-наследники от объектов первого или второго уровней.
  - Четвертый уровень - объекты наследники от объектов третьего или четвертого уровня.  
- Все новые объекты создаются из функций-конструкторов:
  - Встроенные функции-конструкторы - конструкторы с указанной в `prototype` ссылкой на соответствующий объект-прототип первого-второго уровня. Примеры функций: Array, Object, Map и др.
  - Самописные функции-конструкторы - конструкторы с указанной в `prototype` ссылкой на объект-прототип третьего или четвертого уровня.  
  Как создать функцию конструктор >>>