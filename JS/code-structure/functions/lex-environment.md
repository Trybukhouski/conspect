# LEXICAL ENVIRONMENT

## About
- Это скрытый объект (объект LexicalEnvironment) выполняемой функции или выполняемого блока.
- Автоматически создается (уникальное) при:
  - запуске функции (каждом!).
  - выполнении любого блока кода: `{...}`
  - для КАЖДОЙ итерации внутри циклов.  
  В случае с циклами во внутреннее LE входят переменные между инструкцией цикла `for`/ `while` и `{}`.
- Автоматически уничтожается тогда, когда не остается ссылающихся на него [[Environment]].

## LE-object structure
- Состоит из двух частей: Environment Record, ссылка на внешнее лексическое окружение.
- Environment Record – объект, в котором как свойства хранятся
  - Все локальные переменные.  
  В этом смысле переменные - это свойства этого объекта: Environment Record. «Получить или изменить переменную», означает, «получить или изменить свойство этого объекта».
  - Параметры функции.
  - Значение this.
  - Др.
- [[Environment]] - ссылка на лексическое окружение места, в котором была создана рассматриваемая функция.

## Поиск переменных в LE
- Изначально поиск происходит в Environment Record.
- Если искомой переменной не найдено - переход осуществляется по цепочке в последующих внешних LE.
- При обнаружении искомой переменной - берется ее актуальное для данного лексического окружения значение.

## LE features

### Изоляция глобальных переменных 
- Это способ изоляции переменных из глобальной области видимости в локальную.
- Для этого необходимо создать "простой" блок и поместить туда переменные. После этого они принадлежат локальной области видимости этого блока:

## Resources
- [learn.javascript / closures](https://learn.javascript.ru/closure)