# DESCRIPTORS AND FLAGS

## About descriptors
- Это специальный объект, хранящий значение свойства и его флаги.

## About flags
- Это специальные "скрытые от глаз" атрибуты свойств объекта, позволяющие мощно и гибко настраивать эти свойства.
- Флаги хранятся в дескрипторе.
- Существует три флага:
  - writable
  - enumerate
  - configurable
- Флаги возвращают бул. По умолчанию имеют значение `true`.
- Значения флагов можно изменить через специальный методы.

## Writable (flag)
- Флаг "Свойство можно изменить".
- При значении false - значение станет доступным только для чтения, но не для перезаписи.
- При попытке перезаписи - требование приогнорируется, в 'use strict' - выдаст ошибку.

## Enumerable (flag)
- Флаг "Свойство перечисляется в циклах".
- При значении false:
  - исключается из цикла `for_in`.
  - не возвращается через `Object.keys`.

## Configurable (flag)
- Флаг "Свойство можно удалить, а его атрибуты(флаги) - изменить".
- При значении false:
  - свойство нельзя удалить.
  - флаги свойства нельзя изменить.
- При попытке перезаписи - требование приогнорируется, в 'use strict' - выдаст ошибку.
- Предустановлен для некоторых свойств.

## Work with properties throw flags
- Вернуть дескриптор свойства:

  ```
  Object.getOwnPropertyDescriptor(obj, 'propertyName');
  ```
- Вернуть дескрипторы всех свойств объекта:

  ```
  Object.getOwnPropertyDescriptors(obj).
  ```
  - Возвращает дескрипторы в т.ч. символьных и неперечислимых свойств.
- Изменить дескриптор свойства:

  ```
  Object.defineProperty(obj, 'propertyName', descriptor);
  ```
  - Если указанное свойство не существует - оно создастся с указанными в дескрипторе значениями флагов, отсутствующим флагам будет присвоено false.
  - Если указанное свойство сущетвует - оно обновит указанные флаги, остальные не тронет.
- Изменить дескрипторы нескольких свойств:

  ```
  Object.defineProperties(obj, {
    prop1: descriptor1,
    prop2: descriptor2
  });
  ```
- Запретить добавление свойств в объект:
  ```
  Object.preventExtensions(obj)
  ```
  - Проверить, включен ли режим: `Object.isExtensible(obj)`.  
  Возвращает бул.
- Запретить добавление/удаление свойств в объект:
  
  ```
  Object.seal(obj)
  ```
  - Устанавливает configurable: false для всех существующих свойств.
  - Проверить, влючен ли режим: `Object.isSealed(obj)`.  
  Возвращает бул.
- Запретить добавление/удаление/изменение свойства объекта:

  ```
  Object.freeze(obj)
  ```
  - Устанавливает configurable: false, writable: false для всех существующих свойств.
  - Проверить, влючен ли режим: `Object.isFrozen(obj)`.  
  Возвращает бул.
- _Сокращения:_
  - __obj__: объект, из которого получаем информацию.
  - __'propertyName'__: имя свойства, из которого возвращаем дескриптор.
  - __descriptor__: применяемый дескриптор

## Resources
- [learn.javascript.ru](https://learn.javascript.ru/property-descriptors)