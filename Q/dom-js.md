# DOM

## Типы узлов DOM-дерева
- document (входная точка в DOM-дерево)
- узлы-элементы (узлы обычных html-тегов, из которых состоит страница)
- текстовые узлы
- узлы-комментарии
- др. (8 типов, используются редко)

## Как узнать тип узла?
Каждый тип узла имеет номер.  
Определить номер узла:
```
DOMElement.nodeType
```

## Способы перемещения по DOM-дереву относительно конкретного DOM-элемента
По любому типу узла:
- `parentNode`: возвращает родительский узел.
- `childNodes`: возвращает коллекцию дочерних элементов.
- `firstChild`: возвращает первый дочерний элемент.
- `lastChild`: возвращает последний дочерний элемент.
- `previousSibling`: возвращает предыдущего соседа.
- `nextSibling`: возвращает следующего соседа.

По узловым элементам:
- `parentElement`: возвращает родительский узел.
- `children`: возвращает коллекцию дочерних элементов.
- `firstElementChild`: возвращает первый дочерний элемент.
- `lastElementChild`: возвращает последний дочерний элемент.
- `previousElementSibling`: возвращает предыдущего соседа.
- `nextElementSibling`: возвращает следующего соседа.

## Что такое распространение события (event propagation)?
Это механизм, который отрабатывает тогда, когда на странице (в документе) происходит какое-либо событие.  
Распространение события имеет три фазы:
1. Фаза захвата (capture phase): от объекта window по DOM-дереву до вызывающего это событие элемента, затрагивая всех его предков.
2. Фаза достижения целевого элемента (target phase).
3. Фаза всплытия (bubling phase): от целевого элемента по DOM-дереву до объекта window, вызывая все события на родительских относительного целевого элемента элементах.

## Что делает метод stopPropagation?
Метод предотвращает распространение события (всплытие или погружение).

## Что такое делегирование событий (event delegation)?
Это прием разработки, когда вместо добавления однотипных обработчиков события на ряд элементов, вешается один на общего предка, а определение целевого элемента осуществляется через event.target.

## Методы поиска элементов в DOM
- document.getElementById('id')
- document.getElementsByName('name')
- document.getElementsByTagName('tag')
- document.getElementsByClassName('class')
- document.querySelector()
- document.querySelectorAll()

## Разница между target и currentTarget
targer - это элемент, вызвавший событие.  
currentTarget - это элемент, на котором установлен слушатель события.

## В чем разница между attribute и property у DOM-элементов?
attribute - это статичное значение определенного DOM-элемента, которое неизменяемо и может быть добавлено (как правило) в html-разметке.
property - это вычисленное значение DOM-элемента.

## Что такое HTMLCollection?
HTMLCollection - это динамическая html-коллекция, представляющая по структуре массивоподобный итерируемый объект дочерних элементов.
Как получить?
```
getElementsByClassname()
```

## Что такое NodeList?
NodeList - статический список узлов (nodes), содержащий все найденные в документе элементы.
Как получить?
```
querySelectorAll()
```

## В чем разница между HTMLCollection и NodeList?
При добавлении в разметку нового элемента обновленные данные будут присутствовать только в HTMLCollection (он динамический), в Nodelist - нет (он статический)

# EVENTS

## Виды событий в JS
- События мыши
- События клавиатуры
- События формы
- События перетаскивания
...

## Виды событий мыши
- mousedown / mouseup
- click / dbclick
- mousemove
- mouseover
...

## Виды событий клавиатуры
- keydown / keyup
- keypress
...

## Виды событий формы
...

## Виды событий перетаскивания
...

## SYNTAX. Способы добавления события на DOM-элемент
- втроенный в html:

  ```
  <button onClick='testfunc()'>
  ```
- через свойство обработчика событий:

  ```
  DOMElement.onclick = testfunc()

  ```
- через функцию addEventListener:
  ```
  DOMELement.addEventListener('click', testfunc)
  ```

## Что передается третим аргументом в addEventListener?
- Это опциональный параметр
- Это объект, который принимает три булевых значения:
  - once: обработчик удаляется после однократного выполнения;
  - capture: при true перехватывает событие на стадии погружения;
  - passive: при true исключен вызов preventDefault;
- Если передается только `capture`, то вместо объекта можно передать просто true/false

## SYNTAX. Как удалить событие с DOM-элемента?
  ```
  DOMELement.removeEventListener('click', testfunc)
  ```

## Разница между .stopPropagation() и .stopImmediatePropagation()
stopPropagation отменяет дальнейшее всплытие, но на текущем элементе все обработчики срабатывают.  
.stopImmediatePropagation() отменяет дальнейшее всплытие, но и остановит обработку событий на текущем элементе. 

## SYNTAX. Как добавить элемент на html-страницу?
```
const newEl = element.createElement('div')
```

## SYNTAX. Как добавить класс DOM-элементу?
```
newEl.classlist.add('classname')
```

## Недостатки DOM-дерева
Он изначально не был расчитан на создание динамических пользовательских интерфейсов.  
В результате даже на маленьких проектах существует много узлов. Это затрудняет процессы поиска и вставки элементов в DOM-дерево.